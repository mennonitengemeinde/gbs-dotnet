@page "/register"
@layout AuthLayout

<h1 class="card-title text-3xl">Sign Up</h1>

<AuthTabNav/>

<EditForm Model="_registerDto">
    <DataAnnotationsValidator/>
    <TextInput Id="email"
               @ref="_emailInput"
               Label="Email" 
               InputType="email" 
               @bind-Value="_registerDto.Email" 
               For="() => _registerDto.Email"/>
    <TextInput Id="password" 
               Label="Password" 
               InputType="password" 
               @bind-Value="_registerDto.Password" 
               For="() => _registerDto.Password"/>
    <TextInput Id="confirmPassword" 
               Label="Confirm Password" 
               InputType="password" 
               @bind-Value="_registerDto.ConfirmPassword" 
               For="() => _registerDto.ConfirmPassword"/>

    <div class="flex justify-end pt-4">
        <button class="btn btn-primary">Create Account</button>
    </div>
</EditForm>

@code {
    RegisterDto _registerDto = new RegisterDto();
    private TextInput? _emailInput;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && _emailInput != null)
        {
            await _emailInput.FocusAsync();
        }
    }
}